/*
  Queensaver API

  Queensaver API to send in sensor data and retrieve it. It's also used for user management.

  The version of the OpenAPI document: 0.0.1

  Generated by OpenAPI Generator: https://openapi-generator.tech
*/

syntax = "proto3";

package openapi;

import "google/protobuf/empty.proto";
import public "models/user.proto";
import public "models/weight.proto";

service DefaultService {
  rpc AuthPost (AuthPostRequest) returns (google.protobuf.Empty);

  rpc ScaleGet (ScaleGetRequest) returns (ScaleGetResponse);

  rpc UserPost (UserPostRequest) returns (google.protobuf.Empty);

}

message AuthPostRequest {
  User user = 1;

}

message ScaleGetRequest {
  // Either the cookie or this Q-Token must be set to be authorized for the API call.
  string qToken = 1;
  // Either this cookie or the Q-Token must be set to be authorized for the API call.
  string token = 2;
  // The Mac Address of the QBox client. You can get all QBox IDs and clients with the /config API call.
  string bhiveId = 3;
  // The Unix Time (epoch) that defines the end time of the scale measurements. The beginning is defined by the seconds_in_the_past parameter.
  int64 epoch = 4;
  // How many seconds we go to the past to get the data measurements.
  int64 secondsInThePast = 5;

}

message ScaleGetResponse {
  repeated Weight data = 1;
}

message UserPostRequest {
  User user = 1;

}

